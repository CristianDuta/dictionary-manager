(window["webpackJsonpdictionary-manager"]=window["webpackJsonpdictionary-manager"]||[]).push([[0],{214:function(e,a,t){e.exports=t(312)},219:function(e,a,t){},312:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(15),i=t.n(c),o=(t(219),t(97)),l=t(373),d=t(159),u=t(72),s=t(374),m=t(358),f=t(68);var b=t(114),g=t(91),y=t(129),E=t.n(y);var p=function(e,a){var t=new Set(e.errors),n=new Set(e.warnings);t.delete(a.rowId),n.delete(a.rowId);var r=!0,c=!1,i=void 0;try{for(var o,l=e.data[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var d=o.value,u=d.rowId,s=d.domain,m=d.range;a.rowId!==u&&(a.domain===s&&a.range===m&&(n.add(a.rowId),n.add(u)),a.domain===s&&a.range!==m&&(n.add(a.rowId),n.add(u)),a.domain!==m&&a.range!==s||(n.add(a.rowId),n.add(u)),a.domain===m&&a.range===s&&(t.add(a.rowId),t.add(u)))}}catch(f){c=!0,i=f}finally{try{r||null==l.return||l.return()}finally{if(c)throw i}}e.errors=Object(g.a)(t),e.warnings=Object(g.a)(n)};function w(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var h=function(e,a){switch(a.type){case"CREATE":return[].concat(Object(g.a)(e),[{id:E()(),title:"Dictionary #".concat(e.length+1),data:[],errors:[],warnings:[]}]);case"DELETE":return e.filter((function(e){return e.id!==a.id}));case"UPDATE_TITLE":return e.map((function(e){return e.id===a.id?function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?w(t,!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},e,{title:a.title}):e}));case"ADD_ROW":return e.map((function(e){return e.id!==a.id?e:(e.data=[].concat(Object(g.a)(e.data),[{rowId:E()(),domain:a.domain,range:a.range}]),e.data.forEach((function(a){return p(e,a)})),e)}));case"REMOVE_ROW":return e.map((function(e){return e.id!==a.id?e:(e.data=e.data.filter((function(e){return e.rowId!==a.rowId})),e.errors=e.errors.filter((function(e){return e!==a.rowId})),e.warnings=e.warnings.filter((function(e){return e!==a.rowId})),e.data.forEach((function(a){return p(e,a)})),e)}));case"UPDATE_ROW":var t={rowId:E()(),domain:a.domain,range:a.range};return e.map((function(e){return e.id!==a.id?e:(e.data.splice(e.data.findIndex((function(e){return e.rowId===t.rowId})),1,t),e.data.forEach((function(a){return p(e,a)})),e)}));default:return e}},O=[{id:"49145347-0ab6-4e16-be6a-f228cf64a2b6",title:"Dictionary #1",data:[{rowId:"1570f8b5-e264-470a-8c74-fecaf2cd8332",domain:"Stonegrey",range:"Dark Grey"},{rowId:"f0b9ff3a-68c3-4c55-aaae-9d5ee51e1316",domain:"Anthracite",range:"Dark Grey"},{rowId:"ccb4d6ab-7aff-453b-b0c6-d749c16304a6",domain:"Midnight Blue",range:"Dark Blue"}],warnings:[],errors:[]},{id:"0847e3e0-c240-4b22-b8f9-15bc868c70e3",title:"Dictionary #2",data:[{rowId:"1570f8b5-e264-470a-8c74-fecaf2cd8332",domain:"Stonegrey",range:"Dark Grey"},{rowId:"f0b9ff3a-68c3-4c55-aaae-9d5ee51e1316",domain:"Anthracite",range:"Dark Grey"},{rowId:"ccb4d6ab-7aff-453b-b0c6-d749c16304a6",domain:"Midnight Blue",range:"Dark Blue"}],warnings:[],errors:[]},{id:"75968425-7a45-442c-a968-6a509770a6ac",title:"Dictionary #3",data:[{rowId:"1570f8b5-e264-470a-8c74-fecaf2cd8332",domain:"Stonegrey",range:"Dark Grey"},{rowId:"f0b9ff3a-68c3-4c55-aaae-9d5ee51e1316",domain:"Anthracite",range:"Dark Grey"},{rowId:"ccb4d6ab-7aff-453b-b0c6-d749c16304a6",domain:"Midnight Blue",range:"Dark Blue"},{rowId:"93e92ba5-faa7-4983-9f15-197af1edb24b",domain:"Midnight Blue",range:"Dark Blue"}],warnings:["ccb4d6ab-7aff-453b-b0c6-d749c16304a6","93e92ba5-faa7-4983-9f15-197af1edb24b"],errors:[]},{id:"3cf8180c-40d3-430f-9510-114218709ec9",title:"Dictionary #4",data:[{rowId:"1570f8b5-e264-470a-8c74-fecaf2cd8332",domain:"Stonegrey",range:"Dark Grey"},{rowId:"f0b9ff3a-68c3-4c55-aaae-9d5ee51e1316",domain:"Anthracite",range:"Dark Grey"},{rowId:"ccb4d6ab-7aff-453b-b0c6-d749c16304a6",domain:"Midnight Blue",range:"Dark Blue"},{rowId:"ce19c5ce-dc1a-47f5-ade8-4909aae3ec40",domain:"Dark Grey",range:"Stonegrey"}],warnings:["1570f8b5-e264-470a-8c74-fecaf2cd8332","f0b9ff3a-68c3-4c55-aaae-9d5ee51e1316","ce19c5ce-dc1a-47f5-ade8-4909aae3ec40"],errors:["1570f8b5-e264-470a-8c74-fecaf2cd8332","ce19c5ce-dc1a-47f5-ade8-4909aae3ec40"]}],v=Object(n.createContext)(),j=Object(n.createContext)();function D(e){var a=function(e,a,t){var r=Object(n.useReducer)(t,a,(function(){var t;try{t=JSON.parse(window.localStorage.getItem(e)||String(a))}catch(n){t=a}return t})),c=Object(f.a)(r,2),i=c[0],o=c[1];return Object(n.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(i))}),[e,i]),[i,o]}("dictionaries",O,h),t=Object(f.a)(a,2),c=t[0],i=t[1];return r.a.createElement(v.Provider,{value:c},r.a.createElement(j.Provider,{value:i},e.children))}var I=t(185),k=t.n(I),C=t(357),x=t(183),P=t(71),S=t(130),R=t(359);function A(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var N=Object(C.a)((function(e){return{textField:{margin:e.spacing(0)}}}));var F=function(){var e=N(),a=Object(P.h)().id,t=Object(P.g)(),c=Object(P.f)(),i=new URLSearchParams(t.search),l=Object(n.useContext)(j),d=Object(n.useContext)(v).find((function(e){return e.id===a})),u=function(e,a){return Promise.resolve(l(function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?A(t,!0).forEach((function(a){Object(b.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({type:e,id:d.id},a)))},s=function(e,a){var t;try{t=JSON.parse(decodeURIComponent(e))}catch(r){t=e}var n=function(e){return["domain","range"].some((function(t){return a[t].toLowerCase().includes(e.toLowerCase())}))};return Array.isArray(t)?t.some((function(e){return n(e)})):n(e)};return r.a.createElement(o.a,null,r.a.createElement(k.a,{title:r.a.createElement(x.a,{className:e.textField,defaultValue:d.title,margin:"normal",inputProps:{"aria-label":"bare"},onChange:function(e){l({type:"UPDATE_TITLE",id:d.id,title:e.target.value})}}),columns:[{title:"Domain",field:"domain",defaultFilter:i.get("terms"),customFilterAndSearch:s},{title:"Range",field:"range",defaultFilter:i.get("terms"),customFilterAndSearch:s}],data:d.data,editable:{onRowAdd:function(e){return u("ADD_ROW",e)},onRowUpdate:function(e){return u("UPDATE_ROW",e)},onRowDelete:function(e){return u("REMOVE_ROW",e)}},options:{rowStyle:function(e){return{backgroundColor:d.errors.includes(e.rowId)?S.a[400]:d.warnings.includes(e.rowId)?R.a[200]:"#FFF"}},actionsColumnIndex:-1},actions:[function(e){return{icon:"search",tooltip:"Find offenders",onClick:function(e,a){var t=encodeURIComponent(JSON.stringify([a.domain,a.range]));c.push("/dictionary/".concat(d.id,"?terms=").concat(t))}}}]}))},T=t(365),B=t(366),L=t(367),G=t(368),M=t(361),U=t(157),W=t(178),_=t(161),J=t(162),V=t(158),z=t(362),$=t(363),q=t(364),H=t(369),K=t(370),Q=t(360),X=t(66),Y=Object(C.a)((function(){return{green:{backgroundColor:Q.a[500]},orange:{backgroundColor:R.a[500]},red:{backgroundColor:S.a[500]}}}));var Z=function(e){var a=e.dictionary,t=Y(),c=Object(n.useContext)(j),i=r.a.createElement(M.a,{className:t.green,"data-test-id":"dictionary-success-icon"},r.a.createElement(z.a,null));return a.errors.length>0?i=r.a.createElement(M.a,{className:t.red,"data-test-id":"dictionary-error-icon"},r.a.createElement($.a,null)):a.warnings.length>0&&(i=r.a.createElement(M.a,{className:t.orange,"data-test-id":"dictionary-warning-icon"},r.a.createElement(q.a,null))),r.a.createElement(T.a,null,r.a.createElement(B.a,{avatar:i,title:a.title}),r.a.createElement(W.a,{className:t.table,size:"small"},r.a.createElement(_.a,null,a.data.slice(0,3).map((function(e){return r.a.createElement(J.a,{key:e.rowId},r.a.createElement(V.a,null,e.domain),r.a.createElement(V.a,null,e.range))})))),r.a.createElement(L.a,null),r.a.createElement(G.a,{disableSpacing:!0},r.a.createElement(U.a,{"aria-label":"Modify Dictionary",component:X.b,to:"/dictionary/".concat(a.id)},r.a.createElement(H.a,null)),r.a.createElement(U.a,{"aria-label":"Remove Dictionary",onClick:function(){c({type:"DELETE",id:a.id})}},r.a.createElement(K.a,null))))};var ee=function(){var e=Object(n.useContext)(v);return r.a.createElement(m.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2},e.map((function(e){return r.a.createElement(m.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(Z,{dictionary:e}))})))},ae=t(371),te=t(195),ne=t.n(te);var re=Object(C.a)((function(e){return{fab:{position:"absolute",bottom:e.spacing(3),right:e.spacing(3)}}}));var ce=function(){var e=re(),a=Object(n.useContext)(j),t=Object(n.useContext)(v),c=Object(P.f)(),i=t[t.length-1],o=Object(n.useState)(t.length),l=Object(f.a)(o,2),d=l[0],u=l[1];return function(e,a){var t=Object(n.useRef)(!1);Object(n.useEffect)((function(){t.current?e():t.current=!0}),a)}((function(){c.push("/dictionary/".concat(i.id))}),[d]),r.a.createElement(ae.a,{"aria-label":"Add Dictionary",className:e.fab,color:"primary"},r.a.createElement(ne.a,{onClick:function(){a({type:"CREATE"}),u(d+1)}}))},ie=t(375),oe=t(372),le=t(147),de=t.n(le),ue=Object(C.a)((function(e){return{root:{paddingBottom:e.spacing(2)},link:{display:"flex"},icon:{marginRight:e.spacing(.5),width:20,height:20}}}));var se=function(){var e=ue(),a=Object(n.useContext)(v),t=Object(P.g)(),c=new URLSearchParams(t.search).get("terms");return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{path:"/",exact:!0,render:function(){return r.a.createElement(ie.a,{"aria-label":"breadcrumb"},r.a.createElement(u.a,{color:"textPrimary",className:e.link},r.a.createElement(de.a,{className:e.icon}),"Dictionary List"))}}),r.a.createElement(P.a,{path:"/dictionary/:id",exact:!0,render:function(t){var n=t.match.params.id,i=a.find((function(e){return e.id===n})),o=[{el:r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{className:e.icon}),"Dictionary List"),path:"/"},{el:r.a.createElement(r.a.Fragment,null,i.title),path:"/dictionary/".concat(i.id)}];return c&&o.push({el:r.a.createElement(r.a.Fragment,null,c),path:""}),r.a.createElement(ie.a,{"aria-label":"breadcrumb"},o.map((function(a,t,n){return t<n.length-1?r.a.createElement(oe.a,{color:"inherit",to:a.path,className:e.link,component:X.b,key:t},a.el):r.a.createElement(u.a,{color:"textPrimary",className:e.link,key:t},a.el)})))}}))},me=t(196),fe=t.n(me),be=t(376),ge=t(175),ye=Object(C.a)((function(e){return{fab:{position:"absolute",bottom:e.spacing(3),right:e.spacing(3)}}}));var Ee=function(){var e=ye(),a=Object(n.useState)(),t=Object(f.a)(a,2),c=t[0],i=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{color:"secondary",className:e.fab,onClick:function(){return i(!0)}},r.a.createElement(fe.a,null)),r.a.createElement(be.a,{open:c,message:r.a.createElement(r.a.Fragment,null,"A dictionary is said to be consistent if none of the following problems occurs:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Duplicates"),". Duplicate Domain - Range pairs: Two rows in the dictionary map to the same value, simply resulting in duplicate content."),r.a.createElement("li",null,r.a.createElement("b",null,"Forks"),". Duplicate Domains with different Ranges: Two rows in the dictionary map to different values, resulting in an ambiguous transformation."),r.a.createElement("li",null,r.a.createElement("b",null,"Cycles"),". Two or more rows in a dictionary result in cycles, resulting in a never-ending transformation."),r.a.createElement("li",null,r.a.createElement("b",null,"Chains"),". A chain structure in the dictionary (a value in Range column also appears in Domain column of another entry), resulting in inconsistent transformation."))),action:r.a.createElement(ge.a,{color:"secondary",size:"small",onClick:function(){return i(!1)}},"Close")}))};var pe=function(){return r.a.createElement(o.a,{style:{padding:0,margin:0,height:"100vh",backgroundColor:"#fafafa"},elevation:0},r.a.createElement(l.a,{color:"primary",position:"static",style:{height:"64px"}},r.a.createElement(d.a,null,r.a.createElement(u.a,{color:"inherit"},"Dictionary Manager"))),r.a.createElement(s.a,{maxWidth:"lg"},r.a.createElement(m.a,{container:!0,justify:"center",style:{marginTop:"1rem"}},r.a.createElement(m.a,{item:!0,xs:11},r.a.createElement(D,null,r.a.createElement(X.a,{basename:"/dictionary-manager"},r.a.createElement(se,null),r.a.createElement(P.c,null,r.a.createElement(P.a,{exact:!0,path:"/"},r.a.createElement(ee,null),r.a.createElement(ce,null)),r.a.createElement(P.a,{exact:!0,path:"/dictionary/:id"},r.a.createElement(F,null),r.a.createElement(Ee,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[214,1,2]]]);
//# sourceMappingURL=main.7fd4c535.chunk.js.map